greeting:
  profile: dev
quarkus:
  application:
    name: odin-gateway
    version: ${project.version}
  oidc:
    client-id: asgard
    credentials:
      secret: ${OIDC_CLIENT_SECRET:AtQhqI6rWCck3BeyJU0U5kyoDRJzsjq4}
    auth-server-url: https://keycloak.rebiip.com.br/realms/heimdall
    application-type: service
  keycloak:
    policy-enforcer:
      enabled: true
      enforcement-mode: ENFORCING
      paths:
        health:
          name: health
          paths: [ "/q/health", "/q/health/*" ]
          enforcement-mode: disabled
  http:
    port: 2500
    read-timeout: 30M
    cors:
      enabled: true
      methods: "GET, POST, PUT, PATCH, DELETE, OPTIONS"
      headers: "Content-Type, Authorization, Origin, Referer, User-Agent"
      origins: /.*/
      access-control-allow-credentials: true
  thread-pool:
    core-threads: 10
    keep-alive-time: 1M
  log:
    level: INFO
#    category:
#      "org.keycloak":
#        level:  DEBUG
#      "io.quarkus.keycloak":
#        level: DEBUG
    console:
      format: "%n %d{yyyy-MM-dd HH:mm:ss.SSS} [%p] [%t] [ %X{user} ] %C : %s"

gateway:
  routes:
    bifrost:
      path-prefixes: [ "/bifrost" ]
      strip-prefix: true
      target:
        service-name: ${BIFROST_SERVICE_NAME:localhost}
        scheme: ${BIFROST_SCHEME:http}
        port: ${BIFROST_TARGET_PORT:${BIFROST_SERVICE_PORT:2222}}
    mimir:
      path-prefixes: [ "/mimir" ]
      strip-prefix: true
      target:
        service-name: ${MIMIR_SERVICE_NAME:localhost}
        scheme: ${MIMIR_SCHEME:http}
        port: ${MIMIR_TARGET_PORT:${MIMIR_SERVICE_PORT:2400}}
    skuld:
      path-prefixes: [ "/skuld" ]
      strip-prefix: true
      target:
        service-name: ${SKULD_SERVICE_NAME:localhost}
        scheme: ${SKULD_SCHEME:http}
        port: ${SKULD_TARGET_PORT:${SKULD_SERVICE_PORT:2228}}
    muninn:
      path-prefixes: [ "/muninn" ]
      strip-prefix: true
      target:
        service-name: ${MUNINN_SERVICE_NAME:localhost}
        scheme: ${MUNINN_SCHEME:http}
        port: ${MUNINN_TARGET_PORT:${MUNINN_SERVICE_PORT:2230}}
